<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ñ–∏–ª—å - Lakt4</title>
    <link rel="stylesheet" href="/lakt4-store/styles.css">
    <style>
        .profile-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        }

        .profile-photo-container {
            text-align: center;
            margin-bottom: 2rem;
            width: 150px;
            height: 150px;
            margin-left: auto;
            margin-right: auto;
            position: relative;
        }

        .profile-photo-title {
            text-align: center;
            margin-bottom: 1rem;
            color: #666;
            font-weight: 500;
        }

        .profile-photo {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid #FF9800;
            cursor: pointer;
            transition: transform 0.3s;
            background-color: #f5f5f5;
            position: relative;
            display: block;
        }

        .profile-photo.no-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23999"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>');
            background-repeat: no-repeat;
            background-position: center;
            background-size: 60%;
            opacity: 0.5;
            border-radius: 50%;
        }

        .photo-upload-btn {
            background-color: #FF9800;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 0.9rem;
        }

        .photo-upload-btn:hover {
            background-color: #F57C00;
        }

        .photo-delete-btn {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 0.5rem 0.8rem;
            border-radius: 20px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 0.85rem;
        }

        .photo-delete-btn:hover {
            background-color: #c82333;
        }

        .photo-buttons {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin-top: 1rem;
        }

        .profile-form {
            display: grid;
            gap: 1.5rem;
        }

        .form-group {
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #666;
            font-weight: 500;
        }

        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: #FF9800;
        }

        .phone-group {
            display: flex;
            gap: 0.5rem;
            align-items: flex-start;
        }

        .country-code-container {
            position: relative;
            width: 120px;
        }

        .country-code-button {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            font-size: 1rem;
            background-color: white;
            color: #333;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s;
        }

        .country-code-button:after {
            content: '‚ñº';
            font-size: 0.8rem;
            margin-left: 5px;
            transition: transform 0.3s;
        }

        .country-code-button.active:after {
            transform: rotate(180deg);
        }

        .country-code-list {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            max-height: 200px;
            overflow-y: auto;
            background-color: white;
            border: 2px solid #4CAF50;
            border-radius: 8px;
            margin-top: 5px;
            z-index: 1000;
            display: none;
            scrollbar-width: thin;
            scrollbar-color: #FF9800 #f0f0f0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .country-code-list.show {
            display: block;
        }

        .country-code-list::-webkit-scrollbar {
            width: 8px;
        }

        .country-code-list::-webkit-scrollbar-track {
            background: #f0f0f0;
            border-radius: 4px;
        }

        .country-code-list::-webkit-scrollbar-thumb {
            background-color: #FF9800;
            border-radius: 4px;
            border: 2px solid #f0f0f0;
        }

        .country-code-list::-webkit-scrollbar-thumb:hover {
            background-color: #F57C00;
        }

        .country-option {
            padding: 0.8rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .country-option:hover {
            background-color: #f5f5f5;
        }

        body.dark .country-code-button,
        body.dark .country-code-list {
            background-color: #2d2d2d;
            color: white;
            border-color: #FF9800;
        }

        .country-option:hover {
            background-color: #3d3d3d;
        }

        .phone-input {
            flex: 1;
        }

        .theme-switcher {
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: #f5f5f5;
            border-radius: 12px;
            text-align: center;
        }

        .theme-btn {
            margin: 0.5rem;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: transform 0.3s;
            font-weight: 500;
        }

        .theme-btn:hover {
            transform: translateY(-2px);
        }

        .light-btn {
            background-color: #FF9800;
            color: white;
        }

        .dark-btn {
            background-color: #333;
            color: white;
        }

        .form-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .save-btn, .delete-btn {
            flex: 1;
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s;
        }

        .save-btn {
            background-color: #4CAF50;
            color: white;
        }

        .delete-btn {
            background-color: #dc3545;
            color: white;
        }

        .save-btn:hover {
            background-color: #45a049;
            transform: translateY(-2px);
        }

        .delete-btn:hover {
            background-color: #c82333;
            transform: translateY(-2px);
        }

        body.dark .profile-photo.no-image {
            background-color: #2d2d2d;
        }

        body.dark .profile-photo.no-image::before {
            filter: invert(1);
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">Lakt4</div>
            <ul class="nav-links">
                <li><a href="/lakt4-store/index.html">–í–µ—â–∏</a></li>
                <li><a href="/lakt4-store/cart.html">–ö–æ—Ä–∑–∏–Ω–∞</a></li>
                <li><a href="/lakt4-store/profile.html">–ü—Ä–æ—Ñ–∏–ª—å</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <div class="profile-container">
            <h3 class="profile-photo-title">–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è</h3>
            <div class="profile-photo-container">
                <img src="" alt="" class="profile-photo no-image" id="profilePhoto">
                <input type="file" id="photoInput" accept="image/*" style="display: none">
            </div>
            <div class="photo-buttons">
                <button class="photo-upload-btn" onclick="document.getElementById('photoInput').click()">
                    –ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ç–æ
                </button>
                <button class="photo-delete-btn" onclick="deletePhoto()">
                    –£–¥–∞–ª–∏—Ç—å
                </button>
            </div>

            <form class="profile-form" id="profileForm">
                <div class="form-group">
                    <label for="firstName">–ò–º—è</label>
                    <input type="text" id="firstName" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" required>
                </div>
                <div class="form-group">
                    <label for="lastName">–§–∞–º–∏–ª–∏—è</label>
                    <input type="text" id="lastName" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à—É —Ñ–∞–º–∏–ª–∏—é" required>
                </div>
                <div class="form-group">
                    <label for="birthdate">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
                    <input type="date" id="birthdate" required>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" placeholder="example@mail.com" required>
                </div>
                <div class="form-group">
                    <label for="phone">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                    <div class="phone-group">
                        <div class="country-code-container">
                            <button type="button" class="country-code-button" id="countryCodeButton">üá®üáø +420</button>
                            <div class="country-code-list" id="countryCodeList">
                                <div class="country-option" data-code="+420">üá®üáø +420 –ß–µ—Ö–∏—è</div>
                                <div class="country-option" data-code="+421">üá∏üá∞ +421 –°–ª–æ–≤–∞–∫–∏—è</div>
                                <div class="country-option" data-code="+48">üáµüá± +48 –ü–æ–ª—å—à–∞</div>
                                <div class="country-option" data-code="+36">üá≠üá∫ +36 –í–µ–Ω–≥—Ä–∏—è</div>
                                <div class="country-option" data-code="+43">üá¶üáπ +43 –ê–≤—Å—Ç—Ä–∏—è</div>
                                <div class="country-option" data-code="+49">üá©üá™ +49 –ì–µ—Ä–º–∞–Ω–∏—è</div>
                                <div class="country-option" data-code="+7">üá∑üá∫ +7 –†–æ—Å—Å–∏—è</div>
                                <div class="country-option" data-code="+380">üá∫üá¶ +380 –£–∫—Ä–∞–∏–Ω–∞</div>
                                <div class="country-option" data-code="+375">üáßüáæ +375 –ë–µ–ª–∞—Ä—É—Å—å</div>
                                <div class="country-option" data-code="+371">üá±üáª +371 –õ–∞—Ç–≤–∏—è</div>
                                <div class="country-option" data-code="+372">üá™üá™ +372 –≠—Å—Ç–æ–Ω–∏—è</div>
                                <div class="country-option" data-code="+370">üá±üáπ +370 –õ–∏—Ç–≤–∞</div>
                                <div class="country-option" data-code="+33">üá´üá∑ +33 –§—Ä–∞–Ω—Ü–∏—è</div>
                                <div class="country-option" data-code="+44">üá¨üáß +44 –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è</div>
                                <div class="country-option" data-code="+39">üáÆüáπ +39 –ò—Ç–∞–ª–∏—è</div>
                                <div class="country-option" data-code="+34">üá™üá∏ +34 –ò—Å–ø–∞–Ω–∏—è</div>
                                <div class="country-option" data-code="+351">üáµüáπ +351 –ü–æ—Ä—Ç—É–≥–∞–ª–∏—è</div>
                                <div class="country-option" data-code="+31">üá≥üá± +31 –ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã</div>
                                <div class="country-option" data-code="+32">üáßüá™ +32 –ë–µ–ª—å–≥–∏—è</div>
                                <div class="country-option" data-code="+41">üá®üá≠ +41 –®–≤–µ–π—Ü–∞—Ä–∏—è</div>
                            </div>
                        </div>
                        <input type="tel" id="phone" class="phone-input" placeholder="XXX XXX XXX" required>
                        <input type="hidden" id="countryCode" value="+420">
                    </div>
                </div>

                <div class="theme-switcher">
                    <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</h3>
                    <button type="button" class="theme-btn light-btn" onclick="toggleTheme('light')">–°–≤–µ—Ç–ª–∞—è</button>
                    <button type="button" class="theme-btn dark-btn" onclick="toggleTheme('dark')">–¢—ë–º–Ω–∞—è</button>
                </div>

                <div class="form-buttons">
                    <button type="submit" class="save-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                    <button type="button" class="delete-btn" onclick="deleteProfile()">–£–¥–∞–ª–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
                </div>
            </form>
        </div>
    </main>

    <footer>
        <p class="copyright">&copy; 2025 Lakt4. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
        <div class="social-links">
            <a href="https://www.instagram.com/llakt4/" target="_blank" class="social-link">
                <img src="/lakt4-store/assets/images/instagram-icon.svg" alt="Instagram" class="social-icon">
                @llakt4
            </a>
        </div>
    </footer>

    <script src="/lakt4-store/script.js"></script>
    <script>
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ
        document.getElementById('photoInput').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const profilePhoto = document.getElementById('profilePhoto');
                    profilePhoto.src = e.target.result;
                    profilePhoto.classList.remove('no-image');
                    localStorage.setItem('profilePhoto', e.target.result);
                };
                reader.readAsDataURL(file);
            }
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã
        document.getElementById('profileForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const profileData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                birthdate: document.getElementById('birthdate').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('countryCode').value + ' ' + document.getElementById('phone').value
            };
            localStorage.setItem('profileData', JSON.stringify(profileData));
            alert('–ü—Ä–æ—Ñ–∏–ª—å —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!');
        });

        // –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ—Ç–æ
        function deletePhoto() {
            const profilePhoto = document.getElementById('profilePhoto');
            profilePhoto.src = '';
            profilePhoto.classList.add('no-image');
            localStorage.removeItem('profilePhoto');
            alert('–§–æ—Ç–æ —É–¥–∞–ª–µ–Ω–æ!');
        }

        // –§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è
        function deleteProfile() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è?')) {
                localStorage.removeItem('profileData');
                localStorage.removeItem('profilePhoto');
                const profilePhoto = document.getElementById('profilePhoto');
                profilePhoto.src = '';
                profilePhoto.classList.add('no-image');
                document.getElementById('profileForm').reset();
                alert('–í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è —É–¥–∞–ª–µ–Ω—ã!');
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∫–æ–¥–∞ —Å—Ç—Ä–∞–Ω—ã
        const countryCodeButton = document.getElementById('countryCodeButton');
        const countryCodeList = document.getElementById('countryCodeList');
        const countryCodeInput = document.getElementById('countryCode');

        countryCodeButton.addEventListener('click', function() {
            countryCodeList.classList.toggle('show');
            this.classList.toggle('active');
        });

        // –ó–∞–∫—Ä—ã—Ç–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        document.addEventListener('click', function(e) {
            if (!countryCodeButton.contains(e.target) && !countryCodeList.contains(e.target)) {
                countryCodeList.classList.remove('show');
                countryCodeButton.classList.remove('active');
            }
        });

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ —Å—Ç—Ä–∞–Ω—ã
        document.querySelectorAll('.country-option').forEach(option => {
            option.addEventListener('click', function() {
                const code = this.dataset.code;
                const text = this.textContent.split(' ').slice(0, 2).join(' ');
                countryCodeButton.textContent = text;
                countryCodeInput.value = code;
                countryCodeList.classList.remove('show');
                countryCodeButton.classList.remove('active');
            });
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        window.addEventListener('load', function() {
            const savedPhoto = localStorage.getItem('profilePhoto');
            const profilePhoto = document.getElementById('profilePhoto');
            if (savedPhoto) {
                profilePhoto.src = savedPhoto;
                profilePhoto.classList.remove('no-image');
            } else {
                profilePhoto.src = '';
                profilePhoto.classList.add('no-image');
            }

            const savedProfile = JSON.parse(localStorage.getItem('profileData') || '{}');
            if (savedProfile.phone) {
                const [countryCode, phoneNumber] = savedProfile.phone.split(' ');
                const countryOption = document.querySelector(`.country-option[data-code="${countryCode}"]`);
                if (countryOption) {
                    const text = countryOption.textContent.split(' ').slice(0, 2).join(' ');
                    countryCodeButton.textContent = text;
                    countryCodeInput.value = countryCode;
                }
                document.getElementById('phone').value = phoneNumber || '';
            }
            document.getElementById('firstName').value = savedProfile.firstName || '';
            document.getElementById('lastName').value = savedProfile.lastName || '';
            document.getElementById('birthdate').value = savedProfile.birthdate || '';
            document.getElementById('email').value = savedProfile.email || '';
        });
    </script>
</body>
</html>
